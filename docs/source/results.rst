===================================
Output & Results
===================================

Command Line Output
===================
When running the workflow you should see output similar to:

.. code-block:: console

    Launching `https://github.com/mriffle/nf-openmod-dda` [deadly_swanson] DSL2 - revision: cedbe21973 [main]
    executor >  awsbatch (10)
    [7d/ff54be] process > wf_magnum_percolator:MSCONVERT (2)                 [100%] 2 of 2 ✔
    [f6/f9330c] process > wf_magnum_percolator:ADD_PARAMS_TO_MAGNUM_CONF (2) [100%] 2 of 2 ✔
    [d2/d2ab30] process > wf_magnum_percolator:MAGNUM (2)                    [100%] 2 of 2 ✔
    [6e/1c901f] process > wf_magnum_percolator:COMBINE_PIN_FILES             [100%] 1 of 1 ✔
    [86/898518] process > wf_magnum_percolator:PERCOLATOR                    [100%] 1 of 1 ✔
    [2d/af2776] process > wf_magnum_percolator:CONVERT_TO_LIMELIGHT_XML      [100%] 1 of 1 ✔
    [48/11a8d6] process > wf_magnum_percolator:UPLOAD_TO_LIMELIGHT           [100%] 1 of 1 ✔
    Completed at: 15-Jun-2023 18:38:42
    Duration    : 3h 38m 13s
    CPU hours   : 133.8
    Succeeded   : 10

The first line shows the version of Nextflow you are running. The second line shows the version of the workflow
you are running. The third line shows the executor you are using. An executor in Nextflow describes the actual
system the steps of the workflow are running on. In this case the *AWS Batch* executor was used.
The next several lines show the actual steps of the workflow as they are running. If a particular step is run
multiple times (e.g., converting many RAW files to mzML using msconvert), the percent complete shows the
percentage of the RAW files that have been converted. The final four lines appear when the workflow completes,
showing the completion time, how long it took, and the number
of steps that succeeded.

Workflow Log
============
The log file called ``.nextflow.log`` will appear in the directory in which the workflow was run. It can be helpful
for determining the cause of any problems. A log file will also be generated for each task executed by the workflow,
which will be described below.

Workflow Results
================
All results will be output to the ``results/nf-openmod-dda`` subdirectory in the directory in which the workflow was
run. In this directory is a subdirectory for each program that was run as part of the workflow. A full description
of output files can be found below.

Output Files
============
Below are each subdirectory created in ``results/nf-openmod-dda`` and a description of files
that will be found in those directories.

``magnum`` Subdirectory
^^^^^^^^^^^^^^^^^^^^^^^^^
This directory holds logs and output related to running Magnum. The following files are present:

- ``add-params-to-conf.stderr`` - The workflow automatically adds the FASTA file and scan file to the ``Magnum.conf`` file. This file contains any errors generated by that step.
- ``magnum_fixed.conf`` - This is the ``Magnum.conf`` file which has been modified with the above parameters.

Then, for each input scan file (e.g., each input raw file), the following set of files will exist:

- ``scan_file_base.magnum.stderr`` - The output of any errors generating by running Magnum on this scan file.
- ``scan_file_base.magnum.stdout`` - The standard output generated by Magnum for this scan file.
- ``scan_file_base.pep.xml`` - The results, in PepXML format, generated by Magnum for this scan file.
- ``scan_file_base.perc.txt`` - The Percolator input file generated by Magnum for this scan file.

``percolator`` Subdirectory
^^^^^^^^^^^^^^^^^^^^^^^^^^^
This directory holds logs and output related to running Percolator. The following files will be present:

- ``combined.filtered.pin`` - The result of combining all the Percolator input files for each scan file into a single ``.pin`` file.
- ``combine-pin.stderr`` - Any error messages output by the process of combining ``.pin`` files.
- ``percolator.stderr`` - Any error messages generated by running Percolator on the combined ``.pin`` file.
- ``percolator.stdout`` - The command line output generated by running Percolator on the combined ``.pin`` file.
- ``combined.filtered.pout.xml`` - The final results in XML format of running Percolator on the combined ``.pin`` file.

``limelight`` Subdirectory
^^^^^^^^^^^^^^^^^^^^^^^^^^
This directory holds logs related to Limelight XML conversion and uploading to Limelight. The following files will be present:

- ``limelight-submit-upload.stderr`` - Any error messages generated by uploading the search results to Limelight.
- ``limelight-submit-upload.stdout`` - The standard command line output generated by the program that uploads data to Limelight.
- ``limelight-xml-convert.stderr`` - Any error messages generated by converting the search results to Limelight XML.
- ``limelight-xml-convert.stdout`` - The standard command line output generated by the program that converts search results to Limelight XML.
- ``results.limelight.xml`` - The Limelight XML file generated by converting the search results. This format is necessary for uploading data to Limelight.
